{% extends "frontstage.html" %}
{% block head %}
{{ super() }}
{% endblock head %}

{% block title %}好友清單{% endblock title%}

{% block content %}

{% with messages = get_flashed_messages() %}
{% if messages[0] == 'No permission' %}
  
<script language="javascript">
  alert('您沒有使用者的權限喔！');
</script>

{% endif %}
{% endwith %}

<br/>
<div class="container-xl">

    {% if msg %}
        <p class="error"><strong>訊息:</strong> {{ msg }}
    {% endif %}
    <br/>
  <form method="post" action={{ url_for('game.joinList') }}>
     <div class="d-flex col-sm-6">
        <select name="gameId">
            {% for game in game_data %}
            <option value="{{game.遊戲編號}}">{{game.遊戲名稱}}</option>
            {% endfor %}
        </select>
       &nbsp&nbsp
       <button class="btn btn-primary" type="submit" value="start" name="start">開始遊戲</button>
       &nbsp&nbsp
       <button class="btn btn-primary" type="submit" value="leave" name="leave">離開房間</button>
     </div>
      <table class="table table-bordered">
        <tr>
          <th><center>會員編號</center></th>
          <th><center>會員名稱</center></th>
          <th><center>功能</center></th>
        </tr>
        {% for friend in join_data %}
        <tr>
          <td> <center>{{ friend.會員編號 }}</center></td>
          <td> <center>{{ friend.會員名稱 }}</center></td>
          <td>
            <center>
              <button class="btn btn-danger" type="submit" value="{{friend.會員編號}}" name="delete" onclick="return (confirm('你確定要踢掉 \'{{ friend.會員名稱 }}\' 嗎？'))">
                踢掉
              </button>
            </center>
        </td>
        </tr>
        {% endfor %}
      </table>
  </form>
</div>
{% endblock content%}